{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useCallback, useEffect, useState } from 'react';\nimport Link from 'next/link';\nimport { Menu, Row, Col, Card, Button, Input, Avatar } from 'antd';\nimport styled, { createGlobalStyle } from \"styled-components\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { LOG_OUT_REQUEST } from '../reducers/user';\nimport { MailOutlined, GithubOutlined, MenuUnfoldOutlined, MenuFoldOutlined } from '@ant-design/icons';\nimport { Footer } from 'antd/lib/layout/layout';\nimport MenuComponent from './MenuComponent';\nimport Tags from './Tags';\nconst {\n  Search\n} = Input;\nconst {\n  Meta\n} = Card;\nconst SearchWrapper = styled.div.withConfig({\n  displayName: \"AppLayout__SearchWrapper\",\n  componentId: \"sc-18x68v7-0\"\n})([\"width:80%;margin:auto;margin-top:25px;margin-bottom:25px;\"]);\nconst RowWrapper = styled(Row).withConfig({\n  displayName: \"AppLayout__RowWrapper\",\n  componentId: \"sc-18x68v7-1\"\n})([\"border-top:0.1px solid #f0f0f0;\"]);\nconst ButtonWrapper = styled(Button).withConfig({\n  displayName: \"AppLayout__ButtonWrapper\",\n  componentId: \"sc-18x68v7-2\"\n})([\"border:none;\"]);\nexport const Global = createGlobalStyle([\".ant-card-meta-title{margin-top:20px;}\"]);\n\nconst AppLayout = ({\n  children\n}) => {\n  const {\n    me,\n    logOutLoading\n  } = useSelector(state => state.user);\n  const dispatch = useDispatch();\n  const {\n    0: mobileview,\n    1: setMobileview\n  } = useState(false);\n  const {\n    0: collapsed,\n    1: setCollapsed\n  } = useState(false);\n  const {\n    0: mobileSearch,\n    1: setMobileSearch\n  } = useState(false);\n  const onLogout = useCallback(() => {\n    dispatch({\n      type: LOG_OUT_REQUEST\n    });\n  }, []);\n  useEffect(() => {\n    const setResponsiveness = () => {\n      return window.innerWidth < 576 ? setMobileview(true) : setMobileview(false);\n    };\n\n    setResponsiveness();\n    window.addEventListener('resize', () => setResponsiveness());\n  }, []);\n  const onSearch = useCallback(value => {\n    location.href = `/SearchPost/${value}`;\n  }, []);\n  const toggleCollapsed = useCallback(() => {\n    if (!collapsed) {\n      if (mobileSearch) {\n        setMobileSearch(false);\n      }\n    }\n\n    setCollapsed(!collapsed);\n  }, [collapsed, mobileSearch]);\n  const onClickSearchMenu = useCallback(() => {\n    if (!mobileSearch) {\n      if (collapsed) {\n        setCollapsed(false);\n      }\n    }\n\n    setMobileSearch(!mobileSearch);\n  }, [mobileSearch, collapsed]);\n  return __jsx(\"div\", null, __jsx(\"div\", {\n    style: {\n      position: 'fixed',\n      zIndex: 1,\n      width: '100%',\n      borderBottom: \"0.1px solid lightgrey\",\n      backgroundColor: \"white\",\n      boxShadow: \"lightgrey 1px 1px 3px 1px\"\n    }\n  }, !mobileview && __jsx(\"a\", {\n    href: \"https://byjuun.com\"\n  }, __jsx(\"img\", {\n    style: {\n      width: \"100px\",\n      height: \"50px\",\n      float: \"left\",\n      backgroundColor: \"white\",\n      marginLeft: \"150px\",\n      marginRight: \"150px\",\n      marginTop: \"10px\",\n      marginBottom: \"10px\"\n    },\n    src: \"/Original on Transparent.png\"\n  })), __jsx(Menu, {\n    mode: \"horizontal\",\n    style: {\n      height: \"57px\",\n      borderBottom: \"none\",\n      marginTop: \"15px\"\n    }\n  }, mobileview && __jsx(Menu.Item, null, __jsx(Button, {\n    onClick: toggleCollapsed,\n    style: {\n      marginBottom: 16,\n      border: \"none\"\n    }\n  }, /*#__PURE__*/React.createElement(collapsed ? MenuUnfoldOutlined : MenuFoldOutlined))), __jsx(Menu.Item, null, __jsx(\"a\", {\n    href: \"https://byjuun.com\"\n  }, \"Home\")), me ? null : __jsx(Menu.Item, {\n    style: {\n      verticalAlign: \"middle\"\n    }\n  }, __jsx(Link, {\n    href: \"/login\"\n  }, __jsx(\"a\", null, \"\\uB85C\\uADF8\\uC778\"))), !me && __jsx(Menu.Item, null, __jsx(Link, {\n    href: \"/signup\"\n  }, __jsx(\"a\", null, \"\\uD68C\\uC6D0\\uAC00\\uC785\"))), me && me.email === \"neostgeart@gmail.com\" && __jsx(Menu.Item, null, __jsx(Link, {\n    href: \"/Write\"\n  }, __jsx(\"a\", null, \"\\uAE00\\uC4F0\\uAE30\"))), mobileview && __jsx(Menu.Item, {\n    onClick: onClickSearchMenu\n  }, \"\\uAC8C\\uC2DC\\uAE00 \\uAC80\\uC0C9\"), __jsx(Menu.Item, null, __jsx(Link, {\n    href: \"/profile\"\n  }, __jsx(\"a\", null, \"\\uD504\\uB85C\\uD544\"))))), __jsx(\"div\", {\n    style: {\n      paddingTop: \"70px\"\n    }\n  }, __jsx(RowWrapper, null, __jsx(Col, {\n    xs: 24,\n    sm: 6,\n    md: 5\n  }, \" \", me && !mobileview && __jsx(\"div\", {\n    stlye: {\n      textAlign: \"center\"\n    }\n  }, __jsx(Card, {\n    actions: [__jsx(ButtonWrapper, {\n      key: \"1\",\n      onClick: onLogout,\n      loading: logOutLoading\n    }, \"\\uB85C\\uADF8\\uC544\\uC6C3\"), __jsx(ButtonWrapper, {\n      key: \"2\",\n      href: \"/changeNickname\"\n    }, \"\\uB2C9\\uB124\\uC784\\uBCC0\\uACBD\")],\n    style: {\n      minHeight: \"172px\"\n    }\n  }, __jsx(Global, null), __jsx(Meta, {\n    avatar: __jsx(Avatar, {\n      style: {\n        backgroundColor: me.color\n      },\n      size: 64\n    }, me.nickname[0]),\n    title: `환영합니다! ${me.nickname}님`\n  }))), !mobileview && __jsx(React.Fragment, null, __jsx(SearchWrapper, null, __jsx(Search, {\n    placeholder: \"\\uAC8C\\uC2DC\\uAE00 \\uAC80\\uC0C9\",\n    onSearch: onSearch,\n    enterButton: true\n  })), __jsx(MenuComponent, null)), mobileview && mobileSearch && __jsx(SearchWrapper, null, __jsx(Search, {\n    placeholder: \"\\uAC8C\\uC2DC\\uAE00 \\uAC80\\uC0C9\",\n    onSearch: onSearch,\n    enterButton: true\n  })), collapsed && mobileview && __jsx(\"div\", {\n    style: {\n      position: \"fixed\",\n      zIndex: \"2\",\n      width: \"100%\"\n    }\n  }, me && __jsx(\"div\", {\n    stlye: {\n      textAlign: \"center\"\n    }\n  }, __jsx(Card, {\n    actions: [__jsx(ButtonWrapper, {\n      key: \"1\",\n      onClick: onLogout,\n      loading: logOutLoading\n    }, \"\\uB85C\\uADF8\\uC544\\uC6C3\"), __jsx(ButtonWrapper, {\n      key: \"2\",\n      href: \"/changeNickname\"\n    }, \"\\uB2C9\\uB124\\uC784\\uBCC0\\uACBD\")]\n  }, __jsx(Global, null), __jsx(Meta, {\n    avatar: __jsx(Avatar, {\n      style: {\n        backgroundColor: me.color\n      },\n      size: 64\n    }, me.nickname[0]),\n    title: `환영합니다! ${me.nickname}님`\n  }))), __jsx(MenuComponent, null))), __jsx(Col, {\n    xs: 24,\n    sm: 18,\n    md: 13,\n    style: {\n      borderLeft: \"0.1px solid #f0f0f0\",\n      borderRight: \"0.1px solid #f0f0f0\",\n      height: \"auto\",\n      minHeight: \"881px\"\n    }\n  }, children, mobileview && __jsx(\"div\", null, __jsx(\"div\", {\n    style: {\n      textAlign: 'center',\n      fontSize: \"16px\",\n      marginTop: \"15px\"\n    }\n  }, __jsx(MailOutlined, null), \" \", __jsx(\"div\", {\n    style: {\n      display: \"inline-block\"\n    }\n  }, \"neostgeart@gmail.com\")), __jsx(\"div\", {\n    style: {\n      textAlign: 'center',\n      fontSize: \"16px\",\n      marginTop: \"15px\",\n      marginBottom: \"15px\"\n    }\n  }, __jsx(GithubOutlined, null), \" \", __jsx(\"a\", {\n    href: \"https://github.com/BY-juun\"\n  }, \"https://github.com/BY-juun\")))), __jsx(Col, {\n    xs: 0,\n    sm: 0,\n    md: 6\n  }, __jsx(Tags, null)))), __jsx(Footer, {\n    style: {\n      textAlign: 'center',\n      background: \"lightsteelblue\"\n    }\n  }, \"ByJuun.com @2021 Created by By_Juun\"));\n};\n\nexport default AppLayout;","map":{"version":3,"sources":["/Users/byeongjun/My blog/front/components/AppLayout.js"],"names":["React","useCallback","useEffect","useState","Link","Menu","Row","Col","Card","Button","Input","Avatar","styled","createGlobalStyle","useSelector","useDispatch","LOG_OUT_REQUEST","MailOutlined","GithubOutlined","MenuUnfoldOutlined","MenuFoldOutlined","Footer","MenuComponent","Tags","Search","Meta","SearchWrapper","div","RowWrapper","ButtonWrapper","Global","AppLayout","children","me","logOutLoading","state","user","dispatch","mobileview","setMobileview","collapsed","setCollapsed","mobileSearch","setMobileSearch","onLogout","type","setResponsiveness","window","innerWidth","addEventListener","onSearch","value","location","href","toggleCollapsed","onClickSearchMenu","position","zIndex","width","borderBottom","backgroundColor","boxShadow","height","float","marginLeft","marginRight","marginTop","marginBottom","border","createElement","verticalAlign","email","paddingTop","textAlign","minHeight","color","nickname","borderLeft","borderRight","fontSize","display","background"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Link from 'next/link';\nimport { Menu, Row, Col, Card, Button, Input, Avatar } from 'antd';\nimport styled, { createGlobalStyle } from \"styled-components\";\nimport { useSelector, useDispatch } from 'react-redux';\nimport { LOG_OUT_REQUEST } from '../reducers/user';\nimport { MailOutlined, GithubOutlined, MenuUnfoldOutlined, MenuFoldOutlined } from '@ant-design/icons'\nimport { Footer } from 'antd/lib/layout/layout';\nimport MenuComponent from './MenuComponent';\nimport Tags from './Tags';\nconst { Search } = Input;\nconst { Meta } = Card;\n\n\nconst SearchWrapper = styled.div`\n    width : 80%;\n    margin : auto;\n    margin-top: 25px;\n    margin-bottom: 25px;\n`;\n\n\nconst RowWrapper = styled(Row)`\n    border-top : 0.1px solid #f0f0f0;\n`;\n\nconst ButtonWrapper = styled(Button)`\n    border : none;\n`;\n\n\nexport const Global = createGlobalStyle`\n    .ant-card-meta-title{\n        margin-top : 20px;\n    }\n`;\n\nconst AppLayout = ({ children }) => {\n    const { me, logOutLoading } = useSelector((state) => state.user);\n    const dispatch = useDispatch();\n    const [mobileview, setMobileview] = useState(false);\n    const [collapsed, setCollapsed] = useState(false);\n    const [mobileSearch, setMobileSearch] = useState(false);\n    const onLogout = useCallback(() => {\n        dispatch({\n            type: LOG_OUT_REQUEST,\n        });\n    }, []);\n\n\n    useEffect(() => {\n        const setResponsiveness = () => {\n            return window.innerWidth < 576\n                ? setMobileview(true)\n                : setMobileview(false);\n        }\n        setResponsiveness();\n        window.addEventListener('resize', () => setResponsiveness());\n    }, [])\n\n    const onSearch = useCallback((value) => {\n        location.href = `/SearchPost/${value}`;\n    }, [])\n\n    const toggleCollapsed = useCallback(() => {\n        if (!collapsed) {\n            if (mobileSearch) {\n                setMobileSearch(false);\n            }\n        }\n        setCollapsed(!collapsed);\n    }, [collapsed, mobileSearch]);\n\n    const onClickSearchMenu = useCallback(() => {\n        if (!mobileSearch) {\n            if (collapsed) {\n                setCollapsed(false);\n            }\n        }\n        setMobileSearch(!mobileSearch);\n    }, [mobileSearch, collapsed]);\n\n    return (\n        <div>\n            <div style={{ position: 'fixed', zIndex: 1, width: '100%', borderBottom: \"0.1px solid lightgrey\", backgroundColor: \"white\", boxShadow: \"lightgrey 1px 1px 3px 1px\" }}>\n                {!mobileview && <a href=\"https://byjuun.com\"><img\n                    style={{\n                        width: \"100px\", height: \"50px\", float: \"left\",\n                        backgroundColor: \"white\", marginLeft: \"150px\",\n                        marginRight: \"150px\", marginTop: \"10px\", marginBottom: \"10px\"\n                    }}\n                    src=\"/Original on Transparent.png\" /></a>}\n                <Menu mode=\"horizontal\" style={{ height: \"57px\", borderBottom: \"none\", marginTop: \"15px\" }}>\n                    {mobileview && <Menu.Item>\n                        <Button onClick={toggleCollapsed} style={{ marginBottom: 16, border: \"none\" }}>\n                            {React.createElement(collapsed ? MenuUnfoldOutlined : MenuFoldOutlined)}\n                        </Button>\n                    </Menu.Item>}\n                    <Menu.Item>\n                        <a href=\"https://byjuun.com\">Home</a>\n                    </Menu.Item>\n                    \n                    {me\n                        ? null\n                        :\n                        <Menu.Item style={{ verticalAlign: \"middle\" }}>\n                            <Link href=\"/login\"><a>로그인</a></Link>\n                        </Menu.Item>}\n                    {!me && <Menu.Item><Link href=\"/signup\"><a>회원가입</a></Link></Menu.Item>}\n                    {me && me.email === \"neostgeart@gmail.com\" && <Menu.Item>\n                        <Link href=\"/Write\"><a>글쓰기</a></Link>\n                    </Menu.Item>}\n                    {mobileview && <Menu.Item onClick={onClickSearchMenu}>게시글 검색</Menu.Item>}\n                    <Menu.Item>\n                        <Link href=\"/profile\"><a>프로필</a></Link>\n                    </Menu.Item>\n                </Menu>\n            </div>\n\n            <div style={{ paddingTop: \"70px\" }}>\n                <RowWrapper>\n                    <Col xs={24} sm={6} md={5}> {/* 24등분 xs 모바일 md 데스크탑*/}\n                        {me && !mobileview &&\n                            <div stlye={{ textAlign: \"center\" }} >\n                                <Card actions={[\n                                    <ButtonWrapper key = '1' onClick={onLogout} loading={logOutLoading}>로그아웃</ButtonWrapper>,\n                                    <ButtonWrapper key = '2' href=\"/changeNickname\" >닉네임변경</ButtonWrapper>\n                                ]} style={{ minHeight: \"172px\" }}>\n                                    <Global />\n                                    <Meta avatar={<Avatar style={{ backgroundColor: me.color }} size={64}>{me.nickname[0]}</Avatar>} title={`환영합니다! ${me.nickname}님`} />\n                                </Card>\n                            </div>\n                        }\n\n                        {!mobileview &&\n                            <>\n                            <SearchWrapper>\n                                <Search placeholder=\"게시글 검색\" onSearch={onSearch} enterButton />\n                            </SearchWrapper>\n                            <MenuComponent></MenuComponent>\n                            </>\n                        }\n\n                        {mobileview && mobileSearch &&\n                            <SearchWrapper>\n                                <Search placeholder=\"게시글 검색\" onSearch={onSearch} enterButton />\n                            </SearchWrapper>\n                        }\n\n                        {collapsed && mobileview &&\n                            <div style = {{position: \"fixed\", zIndex: \"2\", width : \"100%\" }}>\n                                {me && \n                                <div stlye={{ textAlign: \"center\" }}>\n                                    <Card actions={[\n                                        <ButtonWrapper key = '1' onClick={onLogout} loading={logOutLoading}>로그아웃</ButtonWrapper>,\n                                        <ButtonWrapper key = '2' href=\"/changeNickname\" >닉네임변경</ButtonWrapper>\n                                    ]}>\n                                        <Global />\n                                        <Meta avatar={<Avatar style={{ backgroundColor: me.color }} size={64}>{me.nickname[0]}</Avatar>} title={`환영합니다! ${me.nickname}님`} />\n                                    </Card>\n                                </div>}\n                                <MenuComponent></MenuComponent>\n                            </div>}\n\n                    </Col>\n                    <Col xs={24} sm={18} md={13} style={{ borderLeft: \"0.1px solid #f0f0f0\", borderRight: \"0.1px solid #f0f0f0\", height: \"auto\", minHeight: \"881px\" }}>\n                        {children}\n                        {mobileview && <div>\n                            <div style={{ textAlign: 'center', fontSize: \"16px\", marginTop: \"15px\" }}>\n                                <MailOutlined /> <div style={{ display: \"inline-block\" }}>neostgeart@gmail.com</div>\n                            </div>\n                            <div style={{ textAlign: 'center', fontSize: \"16px\", marginTop: \"15px\", marginBottom: \"15px\" }}>\n                                <GithubOutlined /> <a href=\"https://github.com/BY-juun\">https://github.com/BY-juun</a>\n                            </div>\n                        </div>}\n                    </Col>\n                    <Col xs={0} sm={0} md={6}>\n                        <Tags/>\n                    </Col>\n                </RowWrapper>\n            </div>\n            <Footer style={{ textAlign: 'center', background: \"lightsteelblue\" }}>ByJuun.com @2021 Created by By_Juun</Footer>\n        </div>\n    );\n};\n\nAppLayout.propTypes = {\n    children: PropTypes.node.isRequired,\n};\n\nexport default AppLayout;"]},"metadata":{},"sourceType":"module"}