{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"/Users/byeongjun/My blog/front/components/WritePostForm.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useCallback, useEffect, useState } from 'react';\nimport useInput from '../hooks/useInput';\nimport styled, { createGlobalStyle } from 'styled-components';\nimport { Button, Form, Input, Select } from 'antd';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addPost, ADD_POST_REQUEST, UPDATE_POST_REQUEST } from \"../reducers/post\";\nimport Router from 'next/router';\nimport dynamic from 'next/dynamic';\nvar Editor = dynamic(_c = function _c() {\n  return import('./Editor');\n}, {\n  ssr: false,\n  loadableGenerated: {\n    webpack: function webpack() {\n      return [require.resolveWeak('./Editor')];\n    },\n    modules: ['./Editor']\n  }\n});\n_c2 = Editor;\nexport var Global = createGlobalStyle([\".ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margintop:15px;}.ck.ck-editor{margin-top:15px;}.ck-content{height:500px;}\"]);\n_c3 = Global;\nvar LoginButton = styled(Button).withConfig({\n  displayName: \"WritePostForm__LoginButton\",\n  componentId: \"sc-1o1we0s-0\"\n})([\"margin-right:10px;\"]);\n_c4 = LoginButton;\nvar ButtonWrapper = styled.div.withConfig({\n  displayName: \"WritePostForm__ButtonWrapper\",\n  componentId: \"sc-1o1we0s-1\"\n})([\"margin-top:10px;\"]);\n_c5 = ButtonWrapper;\nvar FormWrapper = styled(Form).withConfig({\n  displayName: \"WritePostForm__FormWrapper\",\n  componentId: \"sc-1o1we0s-2\"\n})([\"padding:10px;\"]);\n_c6 = FormWrapper;\n\nvar WritePostForm = function WritePostForm(_ref) {\n  _s();\n\n  var id = _ref.id;\n  var dispatch = useDispatch();\n\n  var _useSelector = useSelector(function (state) {\n    return state.post;\n  }),\n      addPostLoading = _useSelector.addPostLoading,\n      addPostDone = _useSelector.addPostDone;\n\n  var _useInput = useInput(''),\n      _useInput2 = _slicedToArray(_useInput, 2),\n      title = _useInput2[0],\n      onChangeTitle = _useInput2[1];\n\n  var _useState = useState(''),\n      category = _useState[0],\n      setCategory = _useState[1];\n\n  var _useInput3 = useInput(''),\n      _useInput4 = _slicedToArray(_useInput3, 3),\n      content = _useInput4[0],\n      onChangeContent = _useInput4[1],\n      setContent = _useInput4[2];\n\n  var _useInput5 = useInput(''),\n      _useInput6 = _slicedToArray(_useInput5, 2),\n      hashTag = _useInput6[0],\n      onChangeHashtag = _useInput6[1];\n\n  var TextArea = Input.TextArea;\n  var onSubmitForm = useCallback(function () {\n    if (id) {\n      dispatch({\n        type: UPDATE_POST_REQUEST,\n        data: {\n          title: title,\n          category: category,\n          hashTag: hashTag,\n          content: content,\n          id: id\n        }\n      });\n    } else {\n      dispatch({\n        type: ADD_POST_REQUEST,\n        data: {\n          title: title,\n          category: category,\n          hashTag: hashTag,\n          content: content\n        }\n      });\n    }\n\n    setTimeout(function () {\n      //여기 나중에 res.redirect('/')이런식으로 바꿔줘야함.\n      Router.push('/');\n    }, 1000);\n  }, [title, category, hashTag, content, id]);\n  var handleTeacherChange = useCallback(function (value) {\n    setCategory(value);\n  }, [category]);\n  return __jsx(FormWrapper, {\n    onFinish: onSubmitForm,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 9\n    }\n  }, __jsx(Global, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }, \"\\uC81C\\uBAA9\"), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  }), __jsx(TextArea, {\n    value: title,\n    onChange: onChangeTitle,\n    style: {\n      width: \"100%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"belong\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }, \"\\uCE74\\uD14C\\uACE0\\uB9AC\"), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }), __jsx(Select, {\n    style: {\n      width: \"100%\"\n    },\n    onChange: handleTeacherChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, __jsx(Select.Option, {\n    value: \"JavaScript\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }, \"JavaScript\"), __jsx(Select.Option, {\n    value: \"React\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 21\n    }\n  }, \"React\"))), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 13\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"hashtag\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, \"\\uD574\\uC2DC\\uD0DC\\uADF8\"), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }), __jsx(TextArea, {\n    value: hashTag,\n    onChange: onChangeHashtag,\n    style: {\n      width: \"100%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }, \"\\uB0B4\\uC6A9\"), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  }), __jsx(Editor, {\n    setContent: setContent,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 17\n    }\n  })), __jsx(ButtonWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 13\n    }\n  }, __jsx(LoginButton, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    loading: addPostLoading,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 17\n    }\n  }, \"\\uB4F1\\uB85D\")));\n};\n\n_s(WritePostForm, \"nQtK6gn3+jeEwT0danNe6JM2WPE=\", false, function () {\n  return [useDispatch, useSelector, useInput, useInput, useInput];\n});\n\n_c7 = WritePostForm;\nexport default WritePostForm;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7;\n\n$RefreshReg$(_c, \"Editor$dynamic\");\n$RefreshReg$(_c2, \"Editor\");\n$RefreshReg$(_c3, \"Global\");\n$RefreshReg$(_c4, \"LoginButton\");\n$RefreshReg$(_c5, \"ButtonWrapper\");\n$RefreshReg$(_c6, \"FormWrapper\");\n$RefreshReg$(_c7, \"WritePostForm\");","map":{"version":3,"sources":["/Users/byeongjun/My blog/front/components/WritePostForm.js"],"names":["React","useCallback","useEffect","useState","useInput","styled","createGlobalStyle","Button","Form","Input","Select","useDispatch","useSelector","addPost","ADD_POST_REQUEST","UPDATE_POST_REQUEST","Router","dynamic","Editor","ssr","Global","LoginButton","ButtonWrapper","div","FormWrapper","WritePostForm","id","dispatch","state","post","addPostLoading","addPostDone","title","onChangeTitle","category","setCategory","content","onChangeContent","setContent","hashTag","onChangeHashtag","TextArea","onSubmitForm","type","data","setTimeout","push","handleTeacherChange","value","width"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\nimport useInput from '../hooks/useInput';\nimport styled, { createGlobalStyle } from 'styled-components';\nimport { Button, Form, Input, Select } from 'antd';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addPost, ADD_POST_REQUEST, UPDATE_POST_REQUEST} from \"../reducers/post\";\nimport Router from 'next/router';\nimport dynamic from 'next/dynamic'\nconst Editor = dynamic(() => import('./Editor'), {\n  ssr: false\n})\n\n\nexport const Global = createGlobalStyle`\n    .ck.ck-reset, .ck.ck-reset_all, .ck.ck-reset_all *{\n        margintop : 15px;\n    }\n    .ck.ck-editor {\n        margin-top : 15px;\n    }\n    .ck-content { \n        height : 500px;\n    }\n`;\n\nconst LoginButton = styled(Button)`\nmargin-right : 10px;\n`;\n\nconst ButtonWrapper = styled.div`\nmargin-top : 10px;\n`\nconst FormWrapper = styled(Form)`\npadding : 10px;\n`;\n\n\n\nconst WritePostForm = ({id}) => {\n    const dispatch = useDispatch();\n    const { addPostLoading, addPostDone } = useSelector((state) => state.post);\n    const [title, onChangeTitle] = useInput('');\n    const [category, setCategory] = useState('');\n    const [content, onChangeContent, setContent] = useInput('');\n    const [hashTag, onChangeHashtag] = useInput('');\n    const { TextArea } = Input;\n\n\n    const onSubmitForm = useCallback(() => {\n        if(id){\n            dispatch({\n                type : UPDATE_POST_REQUEST,\n                data : {\n                    title,category, hashTag,content, id\n                }\n            })\n        }else{\n            dispatch({\n                type: ADD_POST_REQUEST,\n                data: {\n                    title, category, hashTag, content,\n                }\n            })\n        }\n        setTimeout(() => { //여기 나중에 res.redirect('/')이런식으로 바꿔줘야함.\n            Router.push('/');\n        }, 1000);\n    }, [title, category, hashTag, content,id]);\n\n    const handleTeacherChange = useCallback((value) => {\n        setCategory(value);\n    }, [category])\n    \n\n    return (\n\n        <FormWrapper onFinish={onSubmitForm}>\n            <Global />\n            <div>\n                <label htmlFor='title'>제목</label>\n                <br />\n                <TextArea value={title} onChange={onChangeTitle} style={{ width: \"100%\" }} />\n            </div>\n            <div>\n                <label htmlFor='belong'>카테고리</label>\n                <br />\n                <Select style={{ width: \"100%\" }} onChange={handleTeacherChange}>\n                    <Select.Option value=\"JavaScript\">JavaScript</Select.Option>\n                    <Select.Option value=\"React\">React</Select.Option>\n                </Select>\n            </div>\n            <div>\n                <label htmlFor='hashtag'>해시태그</label>\n                <br />\n                <TextArea value={hashTag} onChange={onChangeHashtag} style={{ width: \"100%\" }} />\n            </div>\n            <div>\n                <label htmlFor='content'>내용</label>\n                <br />\n                <Editor setContent = {setContent}/>\n            </div>\n            <ButtonWrapper>\n                <LoginButton type=\"primary\"\n                    htmlType=\"submit\"\n                    loading={addPostLoading}>등록</LoginButton>\n            </ButtonWrapper>\n\n        </FormWrapper>\n\n    );\n}\n\nexport default WritePostForm;"]},"metadata":{},"sourceType":"module"}