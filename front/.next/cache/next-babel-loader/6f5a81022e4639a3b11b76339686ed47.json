{"ast":null,"code":"var _jsxFileName = \"/Users/byeongjun/My blog/front/components/WritePostForm.js\";\nvar __jsx = React.createElement;\nimport React, { useCallback, useEffect, useState } from 'react';\nimport useInput from '../hooks/useInput';\nimport styled, { createGlobalStyle } from 'styled-components';\nimport { Button, Form, Input, Select } from 'antd';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addPost, ADD_POST_REQUEST } from \"../reducers/post\";\nimport Router from 'next/router';\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\nexport const Global = createGlobalStyle`\n    .ck.ck-reset, .ck.ck-reset_all, .ck.ck-reset_all *{\n        margintop : 15px;\n    }\n    .ck.ck-editor {\n        margin-top : 15px;\n    }\n\n    .ck-content { \n        height : 500px;\n    }\n`;\nconst LoginButton = styled(Button)`\nmargin-right : 10px;\n`;\nconst ButtonWrapper = styled.div`\nmargin-top : 10px;\n`;\nconst FormWrapper = styled(Form)`\npadding : 10px;\n`;\n\nconst WritePostForm = () => {\n  const dispatch = useDispatch();\n  const {\n    addPostLoading,\n    addPostDone\n  } = useSelector(state => state.post);\n  const [title, onChangeTitle] = useInput('');\n  const {\n    0: category,\n    1: setCategory\n  } = useState('');\n  const [content, onChangeContent, setContent] = useInput('');\n  const [hashTag, onChangeHashtag] = useInput('');\n  const {\n    TextArea\n  } = Input;\n  const onSubmitForm = useCallback(() => {\n    const hashTagSplit = [];\n    hashTag.split(/(#[^\\s#]+)/g).map(v => {\n      if (v.match(/(#[^\\s#]+)/)) {\n        hashTagSplit.push(v);\n      }\n    });\n    dispatch({\n      type: ADD_POST_REQUEST,\n      data: {\n        title,\n        category,\n        hashTagSplit,\n        content\n      }\n    });\n    setTimeout(() => {\n      //여기 나중에 res.redirect('/')이런식으로 바꿔줘야함.\n      Router.push('/');\n    }, 1000);\n  }, [title, category, hashTag, content]);\n  const handleTeacherChange = useCallback(value => {\n    setCategory(value);\n  }, [category]);\n\n  const onChangeCKEditor = (event, editor) => {\n    const data = editor.getData();\n    setContent(data);\n  };\n\n  return __jsx(FormWrapper, {\n    onFinish: onSubmitForm,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 9\n    }\n  }, __jsx(Global, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"title\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }, \"\\uC81C\\uBAA9\"), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 17\n    }\n  }), __jsx(TextArea, {\n    value: title,\n    onChange: onChangeTitle,\n    style: {\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 13\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"belong\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, \"\\uCE74\\uD14C\\uACE0\\uB9AC\"), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 17\n    }\n  }), __jsx(Select, {\n    style: {\n      width: \"100%\"\n    },\n    onChange: handleTeacherChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, __jsx(Select.Option, {\n    value: \"JavaScript\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 21\n    }\n  }, \"JavaScript\"), __jsx(Select.Option, {\n    value: \"React\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  }, \"React\"))), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"hashtag\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, \"\\uD574\\uC2DC\\uD0DC\\uADF8\"), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }), __jsx(TextArea, {\n    value: hashTag,\n    onChange: onChangeHashtag,\n    style: {\n      width: \"100%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"content\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, \"\\uB0B4\\uC6A9\"), __jsx(\"br\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  }), __jsx(CKEditor, {\n    editor: ClassicEditor,\n    data: \"<p></p>\",\n    onChange: onChangeCKEditor,\n    config: {\n      language: \"ko\",\n      plugins: [Bold, Italic, Heading, Indent, IndentBlock, Underline, Strikethrough, BlockQuote, Font, Alignment, List, Link, PasteFromOffice, Image, ImageStyle, ImageToolbar, ImageResize, Table, TableToolbar, TableProperties, TableCellProperties, TextTransformation, //구현한 Uploader plugin, ImageUpload plugin, Simple Upload Adpter 추가\n      Uploader, ImageUpload, SimpleUploadAdapter, LinkTitle],\n      toolbar: props.toolbar ? props.toolbar : [\"heading\", \"|\", \"bold\", \"italic\", \"underline\", \"strikethrough\", \"|\", \"fontSize\", \"fontColor\", \"fontBackgroundColor\", \"|\", \"alignment\", \"outdent\", \"indent\", \"bulletedList\", \"numberedList\", \"blockQuote\", \"|\", \"link\", \"insertTable\", //toolbar에 위에서 구현한 plugin 버튼 추가\n      \"insertFileAndImage\", \"|\", \"undo\", \"redo\"],\n      fontSize: {\n        options: [14, 15, 16, 17, 18, 19, 'default', 21, 22, 23, 24, 25, 26, 27, 28, 29, 30]\n      },\n      alignment: {\n        options: [\"justify\", \"left\", \"center\", \"right\"]\n      },\n      table: {\n        contentToolbar: [\"tableColumn\", \"tableRow\", \"mergeTableCells\", \"tableProperties\", \"tableCellProperties\"]\n      },\n      image: {\n        resizeUnit: \"px\",\n        toolbar: [\"imageStyle:alignLeft\", \"imageStyle:full\", \"imageStyle:alignRight\", \"|\", \"imageTextAlternative\"],\n        styles: [\"full\", \"alignLeft\", \"alignRight\"],\n        type: [\"JPEG\", \"JPG\", \"GIF\", \"PNG\"]\n      },\n      typing: {\n        transformations: {\n          remove: [\"enDash\", \"emDash\", \"oneHalf\", \"oneThird\", \"twoThirds\", \"oneForth\", \"threeQuarters\"]\n        }\n      },\n      //Simple Upload Adapter 설정\n      simpleUpload: {\n        uploadUrl: \"http://localhost:3085/uploads\",\n        withCredentials: true\n      }\n    },\n    style: {\n      marginTop: \"10px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 99,\n      columnNumber: 17\n    }\n  })), __jsx(ButtonWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 13\n    }\n  }, __jsx(LoginButton, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    loading: addPostLoading,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 231,\n      columnNumber: 17\n    }\n  }, \"\\uB4F1\\uB85D\")));\n};\n\nexport default WritePostForm;","map":{"version":3,"sources":["/Users/byeongjun/My blog/front/components/WritePostForm.js"],"names":["React","useCallback","useEffect","useState","useInput","styled","createGlobalStyle","Button","Form","Input","Select","useDispatch","useSelector","addPost","ADD_POST_REQUEST","Router","CKEditor","ClassicEditor","Global","LoginButton","ButtonWrapper","div","FormWrapper","WritePostForm","dispatch","addPostLoading","addPostDone","state","post","title","onChangeTitle","category","setCategory","content","onChangeContent","setContent","hashTag","onChangeHashtag","TextArea","onSubmitForm","hashTagSplit","split","map","v","match","push","type","data","setTimeout","handleTeacherChange","value","onChangeCKEditor","event","editor","getData","width","language","plugins","Bold","Italic","Heading","Indent","IndentBlock","Underline","Strikethrough","BlockQuote","Font","Alignment","List","Link","PasteFromOffice","Image","ImageStyle","ImageToolbar","ImageResize","Table","TableToolbar","TableProperties","TableCellProperties","TextTransformation","Uploader","ImageUpload","SimpleUploadAdapter","LinkTitle","toolbar","props","fontSize","options","alignment","table","contentToolbar","image","resizeUnit","styles","typing","transformations","remove","simpleUpload","uploadUrl","withCredentials","marginTop"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\nimport useInput from '../hooks/useInput';\nimport styled, { createGlobalStyle } from 'styled-components';\nimport { Button, Form, Input, Select } from 'antd';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addPost, ADD_POST_REQUEST } from \"../reducers/post\";\nimport Router from 'next/router';\nimport { CKEditor } from '@ckeditor/ckeditor5-react';\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic';\n\nexport const Global = createGlobalStyle`\n    .ck.ck-reset, .ck.ck-reset_all, .ck.ck-reset_all *{\n        margintop : 15px;\n    }\n    .ck.ck-editor {\n        margin-top : 15px;\n    }\n\n    .ck-content { \n        height : 500px;\n    }\n`;\n\nconst LoginButton = styled(Button)`\nmargin-right : 10px;\n`;\n\nconst ButtonWrapper = styled.div`\nmargin-top : 10px;\n`\nconst FormWrapper = styled(Form)`\npadding : 10px;\n`;\n\n\n\nconst WritePostForm = () => {\n    const dispatch = useDispatch();\n    const { addPostLoading, addPostDone } = useSelector((state) => state.post);\n    const [title, onChangeTitle] = useInput('');\n    const [category, setCategory] = useState('');\n    const [content, onChangeContent, setContent] = useInput('');\n    const [hashTag, onChangeHashtag] = useInput('');\n    const { TextArea } = Input;\n\n\n    const onSubmitForm = useCallback(() => {\n\n        const hashTagSplit = [];\n        hashTag.split(/(#[^\\s#]+)/g).map((v) => {\n            if (v.match(/(#[^\\s#]+)/)) {\n                hashTagSplit.push(v);\n            }\n        })\n        dispatch({\n            type: ADD_POST_REQUEST,\n            data: {\n                title, category, hashTagSplit, content,\n            }\n        })\n        setTimeout(() => { //여기 나중에 res.redirect('/')이런식으로 바꿔줘야함.\n            Router.push('/');\n        }, 1000);\n    }, [title, category, hashTag, content]);\n\n    const handleTeacherChange = useCallback((value) => {\n        setCategory(value);\n    }, [category])\n    const onChangeCKEditor = (event, editor) => {\n        const data = editor.getData();\n        setContent(data);\n    }\n\n    return (\n\n        <FormWrapper onFinish={onSubmitForm}>\n            <Global />\n            <div>\n                <label htmlFor='title'>제목</label>\n                <br />\n                <TextArea value={title} onChange={onChangeTitle} style={{ width: \"100%\" }} />\n            </div>\n            <div>\n                <label htmlFor='belong'>카테고리</label>\n                <br />\n                <Select style={{ width: \"100%\" }} onChange={handleTeacherChange}>\n                    <Select.Option value=\"JavaScript\">JavaScript</Select.Option>\n                    <Select.Option value=\"React\">React</Select.Option>\n                </Select>\n            </div>\n            <div>\n                <label htmlFor='hashtag'>해시태그</label>\n                <br />\n                <TextArea value={hashTag} onChange={onChangeHashtag} style={{ width: \"100%\" }} />\n            </div>\n            <div>\n                <label htmlFor='content'>내용</label>\n                <br />\n                <CKEditor editor={ClassicEditor}\n                    data=\"<p></p>\"\n                    onChange={onChangeCKEditor}\n                    config={{\n                        language: \"ko\",\n                        plugins: [\n                          Bold,\n                          Italic,\n                          Heading,\n                          Indent,\n                          IndentBlock,\n                          Underline,\n                          Strikethrough,\n                          BlockQuote,\n                          Font,\n                          Alignment,\n                          List,\n                          Link,\n                          PasteFromOffice,\n                          Image,\n                          ImageStyle,\n                          ImageToolbar,\n                          ImageResize,\n                          Table,\n                          TableToolbar,\n                          TableProperties,\n                          TableCellProperties,\n                          TextTransformation,\n                          //구현한 Uploader plugin, ImageUpload plugin, Simple Upload Adpter 추가\n                          Uploader,\n                          ImageUpload,\n                          SimpleUploadAdapter,\n                          LinkTitle\n                        ],\n                        toolbar: props.toolbar\n                          ? props.toolbar\n                          : [\n                              \"heading\",\n                              \"|\",\n                              \"bold\",\n                              \"italic\",\n                              \"underline\",\n                              \"strikethrough\",\n                              \"|\",\n                              \"fontSize\",\n                              \"fontColor\",\n                              \"fontBackgroundColor\",\n                              \"|\",\n                              \"alignment\",\n                              \"outdent\",\n                              \"indent\",\n                              \"bulletedList\",\n                              \"numberedList\",\n                              \"blockQuote\",\n                              \"|\",\n                              \"link\",\n                              \"insertTable\",\n                              //toolbar에 위에서 구현한 plugin 버튼 추가\n                              \"insertFileAndImage\",\n                              \"|\",\n                              \"undo\",\n                              \"redo\",\n                            ],\n                        fontSize: {\n                          options: [\n                            14,\n                            15,\n                            16,\n                            17,\n                            18,\n                            19,\n                            'default',\n                            21,\n                            22,\n                            23,\n                            24,\n                            25,\n                            26,\n                            27,\n                            28,\n                            29,\n                            30,\n                          ],\n                        },\n                        alignment: {\n                          options: [\"justify\", \"left\", \"center\", \"right\"],\n                        },\n                        table: {\n                          contentToolbar: [\n                            \"tableColumn\",\n                            \"tableRow\",\n                            \"mergeTableCells\",\n                            \"tableProperties\",\n                            \"tableCellProperties\",\n                          ],\n                        },\n                        image: {\n                          resizeUnit: \"px\",\n                          toolbar: [\n                            \"imageStyle:alignLeft\",\n                            \"imageStyle:full\",\n                            \"imageStyle:alignRight\",\n                            \"|\",\n                            \"imageTextAlternative\",\n                          ],\n                          styles: [\"full\", \"alignLeft\", \"alignRight\"],\n                          type: [\"JPEG\", \"JPG\", \"GIF\", \"PNG\"],\n                        },\n                        typing: {\n                          transformations: {\n                            remove: [\n                              \"enDash\",\n                              \"emDash\",\n                              \"oneHalf\",\n                              \"oneThird\",\n                              \"twoThirds\",\n                              \"oneForth\",\n                              \"threeQuarters\",\n                            ],\n                          },\n                        },\n                        //Simple Upload Adapter 설정\n                        simpleUpload: {\n                          uploadUrl: \"http://localhost:3085/uploads\",\n                          withCredentials: true,\n                        },\n                      }}\n                    \n                    style={{ marginTop: \"10px\" }}>     \n                </CKEditor>\n            </div>\n            <ButtonWrapper>\n                <LoginButton type=\"primary\"\n                    htmlType=\"submit\"\n                    loading={addPostLoading}>등록</LoginButton>\n            </ButtonWrapper>\n\n        </FormWrapper>\n\n    );\n}\n\nexport default WritePostForm;"]},"metadata":{},"sourceType":"module"}