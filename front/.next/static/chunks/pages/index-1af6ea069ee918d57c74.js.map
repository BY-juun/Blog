{"version":3,"sources":["webpack://_N_E/./pages/index.js","webpack://_N_E/./reducers/post.js","webpack://_N_E/./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js"],"names":["Global","createGlobalStyle","Home","dispatch","useDispatch","useState","current","setCurrent","useSelector","state","post","Posts","currentPageNum","useEffect","onChange","useCallback","page","type","LOAD_MAIN_POSTS_REQUEST","data","style","marginBottom","textAlign","marginTop","total","initialState","currentPost","ForwardPost","BackwardPost","loadMainPostsLoading","loadMainPostsDone","loadMainPostsError","loadCategorypostsLoading","loadCategorypostsDone","loadCategorypostsError","loadCurpostLoading","loadCurpostDone","loadCurpostError","searchPostsLoading","searchPostsDone","searchPostsError","addPostLoading","addPostDone","addPostError","addCommentLoading","addCommentDone","addCommentError","removePostLoading","removePostDone","removePostError","updatePostLoading","updatePostDone","updatePostError","SET_CURRENT_PAGENUM","LOAD_CURPOST_REQUEST","LOAD_CURPOST_SUCCESS","LOAD_CURPOST_FAILURE","LOAD_CATEGORYPOSTS_REQUEST","LOAD_CATEGORYPOSTS_SUCCESS","LOAD_CATEGORYPOSTS_FAILURE","LOAD_MAIN_POSTS_SUCCESS","LOAD_MAIN_POSTS_FAILURE","SEARCH_POSTS_REQUEST","SEARCH_POSTS_SUCCESS","SEARCH_POSTS_FAILURE","ADD_POST_REQUEST","ADD_POST_SUCCESS","ADD_POST_FAILURE","ADD_COMMENT_REQUEST","ADD_COMMENT_SUCCESS","ADD_COMMENT_FAILURE","REMOVE_POST_REQUEST","REMOVE_POST_SUCCESS","REMOVE_POST_FAILURE","UPDATE_POST_REQUEST","UPDATE_POST_SUCCESS","UPDATE_POST_FAILURE","reducer","action","produce","draft","unshift","error","Comments","concat","filter","v","id","message","loadMainPostLoading","loadMainPostDone","loadMainPostError","searchPostDone","searchPostError","loadPCurpostLoading","window","__NEXT_P","push"],"mappings":"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","file":"static/chunks/pages/index-1af6ea069ee918d57c74.js","sourcesContent":["import React,{useState,useCallback, useEffect} from 'react';\nimport AppLayout from \"../components/AppLayout\";\nimport { useSelector, useDispatch} from 'react-redux';\nimport { LOAD_MY_INFO_REQUEST } from '../reducers/user'\nimport { LOAD_MAIN_POSTS_REQUEST } from '../reducers/post';\nimport wrapper from \"../store/configureStore\";\nimport { END } from 'redux-saga';\nimport axios from 'axios'\nimport { createGlobalStyle } from \"styled-components\";\nimport { Pagination } from 'antd';\nimport ListComponent from '../components/ListComponent';\n\nexport const Global = createGlobalStyle`\n    .ant-pagination-options{\n        display : none;\n    }\n`;\n\nconst Home = () => {\n  const dispatch = useDispatch();\n  const [current,setCurrent] = useState(1);\n  const {Posts, currentPageNum} = useSelector((state)=>(state.post));\n\n  useEffect(()=>{\n    setCurrent(currentPageNum);\n  },[currentPageNum])\n\n  const onChange = useCallback((page) => {\n    return dispatch({\n      type: LOAD_MAIN_POSTS_REQUEST,\n      data : {\n        page\n      }\n    })\n  },[]);\n\n  return (\n    <AppLayout>\n      <ListComponent Posts = {Posts}/>\n      <div style = {{marginBottom : \"15px\"}}></div>\n      <Global />\n      <Pagination style = {{textAlign : \"center\", marginTop : \"20px\", marginBottom : \"15px\"}} current={current} onChange={onChange} total={80} />\n    </AppLayout>\n  );\n}\n\nexport const getServerSideProps = wrapper.getServerSideProps(async (context) => {\n  const cookie = context.req ? context.req.headers.cookie : '';\n  axios.defaults.headers.Cookie = '';\n  if (context.req && cookie) {\n    axios.defaults.headers.Cookie = cookie;\n  }\n  context.store.dispatch({\n    type: LOAD_MAIN_POSTS_REQUEST,\n    data : {\n      page : 1\n    }\n  });\n  context.store.dispatch({\n    type: LOAD_MY_INFO_REQUEST,\n  })\n  context.store.dispatch(END);\n  await context.store.sagaTask.toPromise();\n});\n\nexport default Home;","import produce from \"../util/produce\";\nexport const initialState = {\n  Posts: [],\n  currentPageNum : null,\n  currentPost: null,\n  ForwardPost : null,\n  BackwardPost : null,\n  loadMainPostsLoading: false,\n  loadMainPostsDone: false,\n  loadMainPostsError: null,\n  loadCategorypostsLoading: false,\n  loadCategorypostsDone: false,\n  loadCategorypostsError: null,\n  loadCurpostLoading: false,\n  loadCurpostDone: false,\n  loadCurpostError: null,\n  searchPostsLoading: false,\n  searchPostsDone: false,\n  searchPostsError: null,\n  addPostLoading: false,\n  addPostDone: false,\n  addPostError: null,\n  addCommentLoading: false,\n  addCommentDone: false,\n  addCommentError: null,\n  removePostLoading: false,\n  removePostDone: false,\n  removePostError: null,\n  updatePostLoading: false,\n  updatePostDone: false,\n  updatePostError: null,\n};\n\nexport const SET_CURRENT_PAGENUM = \"SET_CURRENT_PAGENUM\";\n\nexport const LOAD_CURPOST_REQUEST = \"LOAD_CURPOST_REQUEST\";\nexport const LOAD_CURPOST_SUCCESS = \"LOAD_CURPOST_SUCCESS\";\nexport const LOAD_CURPOST_FAILURE = \"LOAD_CURPOST_FAILURE\";\n\nexport const LOAD_CATEGORYPOSTS_REQUEST = \"LOAD_CATEGORYPOSTS_REQUEST\";\nexport const LOAD_CATEGORYPOSTS_SUCCESS = \"LOAD_CATEGORYPOSTS_SUCCESS\";\nexport const LOAD_CATEGORYPOSTS_FAILURE = \"LOAD_CATEGORYPOSTS_FAILURE\";\n\nexport const LOAD_MAIN_POSTS_REQUEST = \"LOAD_MAIN_POSTS_REQUEST\";\nexport const LOAD_MAIN_POSTS_SUCCESS = \"LOAD_MAIN_POSTS_SUCCESS\";\nexport const LOAD_MAIN_POSTS_FAILURE = \"LOAD_MAIN_POSTS_FAILURE\";\n\nexport const SEARCH_POSTS_REQUEST = \"SEARCH_POSTS_REQUEST\";\nexport const SEARCH_POSTS_SUCCESS = \"SEARCH_POSTS_SUCCESS\";\nexport const SEARCH_POSTS_FAILURE = \"SEARCH_POSTS_FAILURE\";\n\nexport const ADD_POST_REQUEST = \"ADD_POST_REQUEST\";\nexport const ADD_POST_SUCCESS = \"ADD_POST_SUCCESS\";\nexport const ADD_POST_FAILURE = \"ADD_POST_FAILURE\";\n\nexport const ADD_COMMENT_REQUEST = \"ADD_COMMENT_REQUEST\";\nexport const ADD_COMMENT_SUCCESS = \"ADD_COMMENT_SUCCESS\";\nexport const ADD_COMMENT_FAILURE = \"ADD_COMMENT_FAILURE\";\n\nexport const REMOVE_POST_REQUEST = \"REMOVE_POST_REQUEST\";\nexport const REMOVE_POST_SUCCESS = \"REMOVE_POST_SUCCESS\";\nexport const REMOVE_POST_FAILURE = \"REMOVE_POST_FAILURE\";\n\nexport const UPDATE_POST_REQUEST = \"UPDATE_POST_REQUEST\";\nexport const UPDATE_POST_SUCCESS = \"UPDATE_POST_SUCCESS\";\nexport const UPDATE_POST_FAILURE = \"UPDATE_POST_FAILURE\";\n\nconst reducer = (state = initialState, action) =>\n  produce(state, (draft) => {\n    switch (action.type) {\n      case ADD_POST_REQUEST:\n        draft.addPostLoading = true;\n        draft.addPostDone = false;\n        draft.addPostError = false;\n        break;\n      case ADD_POST_SUCCESS:\n        draft.addPostLoading = false;\n        draft.addPostDone = true;\n        draft.Posts.unshift(action.data);\n        break;\n      case ADD_POST_FAILURE:\n        draft.addPostLoading = false;\n        draft.addPostError = action.error;\n        break;\n\n      case ADD_COMMENT_REQUEST:\n        draft.addCommentLoading = true;\n        draft.addCommentDone = false;\n        draft.addCommentError = null;\n        break;\n      case ADD_COMMENT_SUCCESS: {\n        draft.currentPost.Comments = draft.currentPost.Comments.concat(\n          action.data\n        );\n        draft.addCommentLoading = false;\n        draft.addCommentDone = true;\n        break;\n      }\n      case ADD_COMMENT_FAILURE:\n        draft.addCommentLoading = false;\n        draft.addCommentError = action.error;\n        break;\n\n      case REMOVE_POST_REQUEST:\n        draft.removePostLoading = true;\n        draft.removePostDone = false;\n        draft.removePostError = false;\n        break;\n      case REMOVE_POST_SUCCESS:\n        draft.removePostLoading = false;\n        draft.removePostDone = true;\n        draft.Posts = draft.Posts.filter((v) => v.id !== action.data);\n        break;\n      case REMOVE_POST_FAILURE:\n        draft.removePostLoading = false;\n        draft.removePostError = action.error;\n        break;\n\n      case UPDATE_POST_REQUEST:\n        draft.updatePostLoading = true;\n        draft.updatePostDone = false;\n        draft.updatePostError = false;\n        break;\n      case UPDATE_POST_SUCCESS:\n        draft.updatePostLoading = false;\n        draft.updatePostDone = action.data.message;\n        break;\n      case UPDATE_POST_FAILURE:\n        draft.updatePostLoading = false;\n        draft.updatePostError = action.error;\n        break;\n\n      case LOAD_MAIN_POSTS_REQUEST:\n        draft.loadMainPostLoading = true;\n        draft.loadMainPostDone = false;\n        draft.loadMainPostError = false;\n        break;\n      case LOAD_MAIN_POSTS_SUCCESS:\n        draft.loadMainPostLoading = false;\n        draft.loadMainPostDone = true;\n        draft.Posts = action.data;\n        break;\n      case LOAD_MAIN_POSTS_FAILURE:\n        draft.loadMainPostLoading = false;\n        draft.loadMainPostError = action.error;\n        break;\n\n      case SEARCH_POSTS_REQUEST:\n        draft.searchPostsLoading = true;\n        draft.searchPostDone = false;\n        draft.searchPostError = false;\n        break;\n      case SEARCH_POSTS_SUCCESS:\n        draft.searchPostsLoading = false;\n        draft.searchPostsDone = true;\n        draft.Posts = action.data.concat(draft.Posts);\n        break;\n      case SEARCH_POSTS_FAILURE:\n        draft.searchPostsLoading = false;\n        draft.searchPostsError = action.error;\n        break;\n\n      case LOAD_CURPOST_REQUEST:\n        draft.loadCurpostLoading = true;\n        draft.loadCurpostDone = false;\n        draft.loadCurpostError = false;\n        break;\n      case LOAD_CURPOST_SUCCESS:\n        draft.loadCurpostLoading = false;\n        draft.loadCurpostDone = true;\n        draft.currentPost = action.data;\n        break;\n      case LOAD_CURPOST_FAILURE:\n        draft.loadPCurpostLoading = false;\n        draft.loadCurpostError = action.error;\n        break;\n\n      case LOAD_CATEGORYPOSTS_REQUEST:\n        draft.loadCategorypostsLoading = true;\n        draft.loadCategorypostsDone = false;\n        draft.loadCategorypostsError = false;\n        break;\n      case LOAD_CATEGORYPOSTS_SUCCESS:\n        draft.loadCategorypostsLoading = false;\n        draft.loadCategorypostsDone = true;\n        draft.Posts = action.data;\n        break;\n      case LOAD_CATEGORYPOSTS_FAILURE:\n        draft.loadCategorypostsLoading = false;\n        draft.loadCategorypostsError = action.error;\n        break;\n\n      case SET_CURRENT_PAGENUM:\n        draft.currentPageNum = action.data.page;\n        break;\n\n      default:\n        break;\n    }\n  });\n\nexport default reducer;\n","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/\",\n      function () {\n        return require(\"private-next-pages/index.js\");\n      }\n    ]);\n  "],"sourceRoot":""}