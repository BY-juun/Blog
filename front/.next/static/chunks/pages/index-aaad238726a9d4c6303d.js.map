{"version":3,"sources":["webpack://_N_E/./pages/index.js","webpack://_N_E/./node_modules/next/dist/build/webpack/loaders/next-client-pages-loader.js"],"names":["Global","createGlobalStyle","Home","useState","current","setCurrent","startIndex","lastIndex","totalPosts","useSelector","state","post","Posts","firstPosts","slice","posts","setPosts","onChange","useCallback","page","style","marginBottom","textAlign","marginTop","total","length","window","__NEXT_P","push"],"mappings":"6SAYaA,EAASC,YAAH,4CAmDJC,UA7CF,WAEX,MAA6BC,mBAAS,GAA/BC,EAAP,KAAeC,EAAf,KACIC,EAAa,EACbC,EAAY,GACVC,EAAaC,aAAY,SAACC,GAAD,OAAUA,EAAMC,KAAKC,SAC9CC,EAAaJ,aAAY,SAACC,GAAD,OAAYA,EAAMC,KAAKC,MAAME,MAAMR,EAAWC,MAC7E,EAAyBJ,mBAAS,MAA3BY,EAAP,KAAaC,EAAb,KAEMC,EAAWC,uBAAY,SAACC,GAC5Bd,EAAWc,GAEXZ,GADAD,EAAuB,IAARa,EAAK,IACM,GAC1BH,EAASR,EAAWM,MAAMR,EAAWC,MACvC,CAACH,EAAQE,EAAWC,IAEpB,OACE,EAAC,IAAD,KAEI,EAAC,IADFQ,EACC,CAAeH,MAASG,GACxB,CAAeH,MAASC,IAE1B,SAAKO,MAAS,CAACC,aAAe,UAC9B,EAACrB,EAAD,MACA,EAAC,IAAD,CAAYoB,MAAS,CAACE,UAAY,SAAUC,UAAY,OAAQF,aAAe,QAASjB,QAASA,EAASa,SAAUA,EAAUO,MAAOhB,EAAWiB,OAAUjB,EAAWiB,OAAS,Q,sBCzC/KC,OAAOC,SAAWD,OAAOC,UAAY,IAAIC,KAAK,CAC7C,IACA,WACE,OAAO,EAAQ,a","file":"static/chunks/pages/index-aaad238726a9d4c6303d.js","sourcesContent":["import React,{useState,useCallback} from 'react';\nimport AppLayout from \"../components/AppLayout\";\nimport { useSelector} from 'react-redux';\nimport { LOAD_MY_INFO_REQUEST } from '../reducers/user'\nimport { LOAD_POSTS_REQUEST } from '../reducers/post';\nimport wrapper from \"../store/configureStore\";\nimport { END } from 'redux-saga';\nimport axios from 'axios'\nimport { createGlobalStyle } from \"styled-components\";\nimport { Pagination } from 'antd';\nimport ListComponent from '../components/ListComponent';\n\nexport const Global = createGlobalStyle`\n    .ant-pagination-options{\n        display : none;\n    }\n`;\n\nconst Home = () => {\n  \n  const [current,setCurrent] = useState(1);\n  let startIndex = 0;\n  let lastIndex = 11;\n  const totalPosts = useSelector((state)=>(state.post.Posts));\n  const firstPosts = useSelector((state) => (state.post.Posts.slice(startIndex,lastIndex)));\n  const [posts,setPosts] = useState(null);\n\n  const onChange = useCallback((page) => {\n    setCurrent(page);\n    startIndex = ((page-1)*11);\n    lastIndex = (startIndex + 11);\n    setPosts(totalPosts.slice(startIndex,lastIndex))\n},[current,startIndex,lastIndex]);\n\n  return (\n    <AppLayout>\n      {posts \n      ? <ListComponent Posts = {posts}/>\n      : <ListComponent Posts = {firstPosts}/>\n      }\n      <div style = {{marginBottom : \"15px\"}}></div>\n      <Global />\n      <Pagination style = {{textAlign : \"center\", marginTop : \"20px\", marginBottom : \"15px\"}} current={current} onChange={onChange} total={totalPosts.length - (totalPosts.length % 10)} />\n    </AppLayout>\n  );\n}\n\nexport const getServerSideProps = wrapper.getServerSideProps(async (context) => {\n  const cookie = context.req ? context.req.headers.cookie : '';\n  axios.defaults.headers.Cookie = '';\n  if (context.req && cookie) {\n    axios.defaults.headers.Cookie = cookie;\n  }\n  context.store.dispatch({\n    type: LOAD_POSTS_REQUEST,\n  });\n  context.store.dispatch({\n    type: LOAD_MY_INFO_REQUEST,\n  })\n  context.store.dispatch(END);\n  await context.store.sagaTask.toPromise();\n});\n\nexport default Home;","\n    (window.__NEXT_P = window.__NEXT_P || []).push([\n      \"/\",\n      function () {\n        return require(\"private-next-pages/index.js\");\n      }\n    ]);\n  "],"sourceRoot":""}