{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _taggedTemplateLiteral from \"@babel/runtime/helpers/esm/taggedTemplateLiteral\";\n\nvar _templateObject,\n    _templateObject2,\n    _templateObject3,\n    _this = this,\n    _jsxFileName = \"/Users/byeongjun/My blog/front/components/WritePostForm.js\",\n    _s = $RefreshSig$();\n\nvar __jsx = React.createElement;\nimport React, { useCallback, useEffect, useState } from 'react';\nimport useInput from '../hooks/useInput';\nimport styled from 'styled-components';\nimport { Button, Form, Input, Select } from 'antd';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addPost, ADD_POST_REQUEST } from \"../reducers/post\";\nimport Router from 'next/router';\nvar LoginButton = styled(Button)(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n\\n\\nmargin-right : 10px;\\n\"])));\n_c = LoginButton;\nvar ButtonWrapper = styled.div(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\nmargin-top : 10px;\\n\"])));\n_c2 = ButtonWrapper;\nvar FormWrapper = styled(Form)(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\npadding : 10px;\\n\"])));\n_c3 = FormWrapper;\n\nvar WritePostForm = function WritePostForm() {\n  _s();\n\n  var dispatch = useDispatch();\n\n  var _useSelector = useSelector(function (state) {\n    return state.post;\n  }),\n      addPostLoading = _useSelector.addPostLoading,\n      addPostDone = _useSelector.addPostDone;\n\n  var _useInput = useInput(''),\n      _useInput2 = _slicedToArray(_useInput, 2),\n      title = _useInput2[0],\n      onChangeTitle = _useInput2[1];\n\n  var _useState = useState(''),\n      category = _useState[0],\n      setCategory = _useState[1];\n\n  var _useInput3 = useInput(''),\n      _useInput4 = _slicedToArray(_useInput3, 2),\n      content = _useInput4[0],\n      onChangeContent = _useInput4[1];\n\n  var _useInput5 = useInput(''),\n      _useInput6 = _slicedToArray(_useInput5, 2),\n      hashTag = _useInput6[0],\n      onChangeHashtag = _useInput6[1];\n\n  var TextArea = Input.TextArea;\n  var onSubmitForm = useCallback(function () {\n    var hashTagSplit = [];\n    hashTag.split(/(#[^\\s#]+)/g).map(function (v) {\n      if (v.match(/(#[^\\s#]+)/)) {\n        hashTagSplit.push(v);\n      }\n    });\n    dispatch({\n      type: ADD_POST_REQUEST,\n      data: {\n        title: title,\n        category: category,\n        hashTagSplit: hashTagSplit,\n        content: content\n      }\n    });\n    setTimeout(function () {\n      //여기 나중에 res.redirect('/')이런식으로 바꿔줘야함.\n      Router.push('/');\n    }, 1000);\n  }, [title, category, hashTag, content]);\n  var handleTeacherChange = useCallback(function (value) {\n    setCategory(value);\n  }, [category]);\n  return __jsx(FormWrapper, {\n    onFinish: onSubmitForm,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 9\n    }\n  }, __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"title\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }\n  }, \"\\uC81C\\uBAA9\"), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 17\n    }\n  }), __jsx(TextArea, {\n    value: title,\n    onChange: onChangeTitle,\n    style: {\n      width: \"100%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"belong\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 17\n    }\n  }, \"\\uCE74\\uD14C\\uACE0\\uB9AC\"), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }), __jsx(Select, {\n    style: {\n      width: \"100%\"\n    },\n    onChange: handleTeacherChange,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, __jsx(Select.Option, {\n    value: \"JavaScript\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, \"JavaScript\"), __jsx(Select.Option, {\n    value: \"React\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }, \"React\"))), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 13\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"hashtag\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 17\n    }\n  }, \"\\uD574\\uC2DC\\uD0DC\\uADF8\"), __jsx(\"br\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }\n  }), __jsx(TextArea, {\n    value: hashTag,\n    onChange: onChangeHashtag,\n    style: {\n      width: \"100%\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  })), __jsx(\"div\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }\n  }, __jsx(\"label\", {\n    htmlFor: \"Content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 17\n    }\n  }, \"\\uB0B4\\uC6A9\"), __jsx(TextArea, {\n    value: content,\n    onChange: onChangeContent,\n    style: {\n      width: \"100%\",\n      height: \"700px\"\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }\n  })), __jsx(ButtonWrapper, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, __jsx(LoginButton, {\n    type: \"primary\",\n    htmlType: \"submit\",\n    loading: addPostLoading,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 17\n    }\n  }, \"\\uB4F1\\uB85D\")));\n};\n\n_s(WritePostForm, \"b2UoUKOiFWDcrQHcTchocqg9TX8=\", false, function () {\n  return [useDispatch, useSelector, useInput, useInput, useInput];\n});\n\n_c4 = WritePostForm;\nexport default WritePostForm;\n\nvar _c, _c2, _c3, _c4;\n\n$RefreshReg$(_c, \"LoginButton\");\n$RefreshReg$(_c2, \"ButtonWrapper\");\n$RefreshReg$(_c3, \"FormWrapper\");\n$RefreshReg$(_c4, \"WritePostForm\");","map":{"version":3,"sources":["/Users/byeongjun/My blog/front/components/WritePostForm.js"],"names":["React","useCallback","useEffect","useState","useInput","styled","Button","Form","Input","Select","useDispatch","useSelector","addPost","ADD_POST_REQUEST","Router","LoginButton","ButtonWrapper","div","FormWrapper","WritePostForm","dispatch","state","post","addPostLoading","addPostDone","title","onChangeTitle","category","setCategory","content","onChangeContent","hashTag","onChangeHashtag","TextArea","onSubmitForm","hashTagSplit","split","map","v","match","push","type","data","setTimeout","handleTeacherChange","value","width","height"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useState } from 'react';\nimport useInput from '../hooks/useInput';\nimport styled from 'styled-components';\nimport { Button, Form, Input, Select } from 'antd';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addPost, ADD_POST_REQUEST } from \"../reducers/post\";\nimport Router from 'next/router';\nconst LoginButton = styled(Button)`\n\n\nmargin-right : 10px;\n`;\n\nconst ButtonWrapper = styled.div`\nmargin-top : 10px;\n`\nconst FormWrapper = styled(Form)`\npadding : 10px;\n`;\n\nconst WritePostForm = () => {\n    const dispatch = useDispatch();\n    const { addPostLoading,addPostDone } = useSelector((state) => state.post);\n    const [title, onChangeTitle] = useInput('');\n    const [category, setCategory] = useState('');\n    const [content, onChangeContent] = useInput('');\n    const [hashTag, onChangeHashtag] = useInput('');\n    const { TextArea } = Input;\n\n\n    const onSubmitForm = useCallback(() => {\n        const hashTagSplit = [];\n        hashTag.split(/(#[^\\s#]+)/g).map((v)=>{\n            if(v.match(/(#[^\\s#]+)/)){\n                hashTagSplit.push(v);\n            }\n        })\n        dispatch({\n            type : ADD_POST_REQUEST,\n            data : {\n                title, category, hashTagSplit, content,\n            }\n        })\n        setTimeout(()=>{ //여기 나중에 res.redirect('/')이런식으로 바꿔줘야함.\n            Router.push('/');\n        },1000 );\n    }, [title,category,hashTag,content]);\n\n    const handleTeacherChange = useCallback((value)=>{\n        setCategory(value);\n    },[category])\n\n    return (\n        <FormWrapper onFinish={onSubmitForm}>\n            <div>\n                <label htmlFor='title'>제목</label>\n                <br />\n                <TextArea value= {title} onChange={onChangeTitle} style={{ width: \"100%\" }} />\n            </div>\n            <div>\n                <label htmlFor='belong'>카테고리</label>\n                <br />\n                <Select  style={{ width: \"100%\" }}  onChange={handleTeacherChange}>\n                    <Select.Option value=\"JavaScript\">JavaScript</Select.Option>\n                    <Select.Option value=\"React\">React</Select.Option>\n                </Select>\n            </div>\n            <div>\n                <label htmlFor='hashtag'>해시태그</label>\n                <br />\n                <TextArea value= {hashTag} onChange={onChangeHashtag} style={{ width: \"100%\" }} />\n            </div>\n            <div>\n                <label htmlFor='Content'>내용</label>\n                <TextArea value= {content} onChange={onChangeContent} style={{ width: \"100%\", height: \"700px\" }} />\n            </div>\n            <ButtonWrapper>\n                <LoginButton type=\"primary\"\n                    htmlType=\"submit\"\n                    loading={addPostLoading}>등록</LoginButton>\n            </ButtonWrapper>\n        </FormWrapper>\n    );\n}\n\nexport default WritePostForm;"]},"metadata":{},"sourceType":"module"}